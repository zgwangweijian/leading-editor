/*!
 * leading-editor
 * 
 * Version: 1.0.0 - 2017-07-25T02:27:06.619Z
 * License: 
 */
(function(){"use strict";!function(){var e;e=angular.module("leading.editor",[]),e.constant("editorConfig",{language:"zh-cn"}),e.directive("editor",["editorConfig",function(e){return{restrict:"EA",require:"ngModel",scope:{ready:"="},link:function(t,n,o,i){var r,d;d=!1,r=function(){function r(){}return r.prototype.initEditor=function(){var r,a,u;if(u=this,"undefined"==typeof CKEDITOR)return console.error("Please import the local resources of ckeditor!"),void 0;r=t.config?t.config:{},e&&(r=angular.extend({},e));var c=t.$eval(o.editor);return c&&(r=angular.extend({},r,c)),a=o.id?o.id:"_editor"+Date.now(),n[0].id=a,this.editor=CKEDITOR.replace(a,r),$.when(this.editor.promise).then(function(){u.editorReady=!0,u.editor.on("change",function(e){i.$setViewValue(e.editor.getData()),d||t.$$phase||t.$apply(),d=!1}),u.modelContent&&u.modelContent.length>0&&u.setEditorContent(),"function"==typeof t.ready&&t.ready(u.editor),t.$on("$destroy",function(){u.editor.destroy()})})},r.prototype.setEditorContent=function(e){e||(e=this.modelContent),this.editor&&this.editorReady&&this.editor.setData(e)},r.prototype.bindRender=function(){var e;e=this,i.$render=function(){e.modelContent=i.$isEmpty(i.$viewValue)?"":i.$viewValue,d=!0,e.setEditorContent()}},r}();var a=new r;a.bindRender(),a.initEditor()}}}])}()}).call();