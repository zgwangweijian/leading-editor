/*!
 * leading-editor
 * 
 * Version: 1.0.7 - 2017-11-17T07:37:34.083Z
 * License: 
 */
(function(){"use strict";!function(){function e(e,t){return{restrict:"A",require:"ngModel",link:function(o,i,r,d){var a,u;u=!1,a=function(){function a(){}return a.prototype.initEditor=function(){var a,s,c;if(c=this,"undefined"==typeof CKEDITOR)return console.error("Please import the local resources of ckeditor!"),void 0;a=o.config?o.config:{},t&&(a=angular.extend({},t));var l=o.$eval(r.editor);return l&&(a=angular.extend({},a,l)),s=r.id?r.id:"_editor"+Date.now(),i[0].id=s,this.editor=CKEDITOR.replace(s,a),$.when(this.editor.promise).then(function(){c.editorReady=!0,c.editor.on("change",function(e){d.$setViewValue(e.editor.getData()),u||o.$$phase||o.$apply(),u=!1}),c.editor.on("instanceReady",function(t){this.document.on("keyup",function(){d.$setViewValue(t.editor.getData()),u||o.$$phase||o.$apply(),u=!1}),this.document.on("mouseout",function(){d.$setViewValue(t.editor.getData()),u||o.$$phase||o.$apply(),u=!1}),this.document.on("blur",function(){d.$setViewValue(t.editor.getData()),u||o.$$phase||o.$apply(),u=!1}),c.editor.setReadOnly(!!r.readonly),r.$observe("readonly",function(e){c.editor.setReadOnly(!!e)}),n(function(){e(r.ready)(o)})}),c.modelContent&&c.modelContent.length>0&&c.setEditorContent(),o.$on("$destroy",function(){c.editor.destroy()})})},a.prototype.setEditorContent=function(e){e||(e=this.modelContent),this.editor&&this.editorReady&&this.editor.setData(e)},a.prototype.bindRender=function(){var e;e=this,d.$render=function(){e.modelContent=d.$isEmpty(d.$viewValue)?"":d.$viewValue,u=!0,e.setEditorContent()}},a}();var s=new a;s.bindRender(),s.initEditor()}}}var t;t=angular.module("leading.editor",[]),t.constant("editorConfig",{language:"zh-cn"}),t.directive("editor",["$parse","editorConfig",e]);var n=window&&window.setImmediate?window.setImmediate:function(e){setTimeout(e,0)}}()}).call();